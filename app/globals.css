@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: 29 49 97;
    --color-primary-hover: 23 39 77;
  }

  body {
    @apply antialiased text-gray-900 bg-gray-50;
  }

  /* More specific focus styles to avoid affecting all elements */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [tabindex]:focus-visible {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary {
    @apply btn bg-[rgb(29,49,97)] text-white hover:bg-[rgb(23,39,77)] active:scale-[0.98];
  }
  .btn-secondary {
    @apply btn bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400;
  }
  .btn-ghost {
    @apply btn text-gray-600 hover:text-gray-900 hover:bg-gray-100;
  }
  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-700;
  }
  .btn-sm { @apply px-2 py-1 text-xs; }

  /* Inputs */
  .input {
    @apply w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
  }
  .select {
    @apply w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white pr-8 cursor-pointer bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-size: 1.5em 1.5em;
    background-position: right 0.5rem center;
  }
  .label { @apply block text-xs font-medium text-gray-700 mb-1; }

  /* Cards */
  .card { @apply bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden; }
  .card-header { @apply px-4 py-3 border-b border-gray-100 flex items-center justify-between bg-gray-50/50; }
  .card-title { @apply text-sm font-semibold text-gray-900; }
  .card-body { @apply p-4; }

  /* Stats */
  .stat-card { @apply bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors; }
  .stat-value { @apply text-2xl font-bold text-gray-900 tabular-nums; }
  .stat-label { @apply text-xs font-medium text-gray-500 uppercase tracking-wide mt-1; }

  /* Badges */
  .badge { @apply inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full; }
  .badge-gray { @apply badge bg-gray-100 text-gray-700; }
  .badge-blue { @apply badge bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20; }
  .badge-green { @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20; }
  .badge-yellow { @apply badge bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/20; }
  .badge-red { @apply badge bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20; }
  .badge-purple { @apply badge bg-purple-50 text-purple-700 ring-1 ring-inset ring-purple-600/20; }

  /* Tables */
  .table-container { @apply bg-white border border-gray-200 rounded-lg overflow-hidden; }
  .table { @apply w-full text-sm; }
  .table thead { @apply bg-gray-50 border-b border-gray-200; }
  .table th { @apply px-4 py-2.5 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider; }
  .table td { @apply px-4 py-3 text-gray-700; }
  .table tbody tr { @apply border-b border-gray-100 last:border-0 hover:bg-gray-50/75 transition-colors; }
  .table-row-clickable { @apply cursor-pointer; }
  .table-row-selected { @apply !bg-blue-50 hover:!bg-blue-50; }

  /* Empty state */
  .empty-state { @apply flex flex-col items-center justify-center py-12 px-4 text-center; }
  .empty-state-icon { @apply text-4xl mb-3 grayscale opacity-40; }
  .empty-state-title { @apply text-sm font-medium text-gray-900; }
  .empty-state-description { @apply text-xs text-gray-500 mt-1; }

  /* Modal */
  .modal-backdrop { @apply fixed inset-0 bg-gray-900/60 backdrop-blur-sm z-50; }
  .modal { @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-lg max-h-[85vh] overflow-hidden; }
  .modal-header { @apply px-5 py-4 border-b border-gray-200; }
  .modal-body { @apply p-5 overflow-y-auto; }
  .modal-footer { @apply px-5 py-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-2; }

  /* Dropdown */
  .dropdown { @apply absolute right-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50 py-1; }
  .dropdown-item { @apply block w-full px-3 py-2 text-sm text-left text-gray-700 hover:bg-gray-50; }

  /* Kanban - Updated with cleaner styling */
  .kanban-column { 
    @apply bg-gray-100 rounded-lg p-3 min-h-[300px];
  }
  .kanban-card { 
    @apply block bg-white rounded-lg border border-gray-200 p-3 hover:border-gray-300 hover:shadow-sm transition-all;
  }
  .kanban-card:focus-visible {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  }

  /* Tabs */
  .tab { @apply px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 hover:border-gray-300 transition-colors; }
  .tab-active { @apply text-gray-900 border-gray-900; }

  /* Action icons */
  .action-icon { @apply p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors; }

  /* Loading */
  .spinner { @apply animate-spin h-4 w-4 border-2 border-gray-300 border-t-gray-600 rounded-full; }
}

/* Scrollbar - Only apply to specific containers */
.scrollbar-thin { scrollbar-width: thin; scrollbar-color: #d1d5db transparent; }
.scrollbar-thin::-webkit-scrollbar { width: 6px; height: 6px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
.scrollbar-thin::-webkit-scrollbar-thumb { background-color: #d1d5db; border-radius: 3px; }

/* Animation utilities */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-in-from-right {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

.animate-in {
  animation-duration: 200ms;
  animation-timing-function: ease-out;
  animation-fill-mode: both;
}

.fade-in {
  animation-name: fade-in;
}

.slide-in-from-right {
  animation-name: slide-in-from-right;
}
